<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- Generated by Apache Maven Doxia Site Renderer 1.7.1 at 2016-06-26 -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>checkstyle &#x2013; Writing Javadoc Checks</title>
    <style type="text/css" media="all">
      @import url("./css/maven-base.css");
      @import url("./css/maven-theme.css");
      @import url("./css/site.css");
    </style>
    <link rel="stylesheet" href="./css/print.css" type="text/css" media="print" />
    <meta http-equiv="Content-Language" content="en" />
        <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script><script type="text/javascript" src="js/anchors.js"></script><script type="text/javascript" src="js/google-analytics.js"></script><link rel="icon" href="images/favicon.png" type="image/x-icon" /><link rel="shortcut icon" href="images/favicon.ico" type="image/ico" />
        </head>
  <body class="composite">
    <div id="banner">
                                      <a href="./" id="bannerLeft" title="Checkstyle">
                                                <img src="images/header-checkstyle-logo.png" alt="Checkstyle" />
                </a>
                                            <a href="./" id="bannerRight" title="Checkstyle">
                                                <img src="images/header-right-ruller.png" alt="Checkstyle" />
                </a>
            <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="breadcrumbs">
          
                  <div class="xright">      
                 <span id="publishDate">Last Published: 2016-06-26</span>
              &nbsp;| <span id="projectVersion">Version: 7.0</span>
            </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="leftColumn">
      <div id="navcolumn">
           
                                <h5>About</h5>
                  <ul>
                  <li class="none">
                          <a href="index.html" title="Checkstyle">Checkstyle</a>
            </li>
                  <li class="none">
                          <a href="releasenotes.html" title="Release Notes">Release Notes</a>
            </li>
                  <li class="none">
                          <a href="consulting.html" title="Consulting">Consulting</a>
            </li>
                  <li class="none">
                          <a href="sponsoring.html" title="Sponsoring">Sponsoring</a>
            </li>
          </ul>
                       <h5>Documentation</h5>
                  <ul>
                                                                                <li class="expanded">
                          <a href="config.html" title="Configuration">Configuration</a>
                    <ul>
                      <li class="none">
                          <a href="property_types.html" title="Property Types">Property Types</a>
            </li>
                      <li class="none">
                          <a href="config_filters.html" title="Filters">Filters</a>
            </li>
              </ul>
        </li>
                                                                                <li class="expanded">
                          <a href="running.html" title="Running">Running</a>
                    <ul>
                      <li class="none">
                          <a href="anttask.html" title="Ant Task">Ant Task</a>
            </li>
                      <li class="none">
                          <a href="cmdline.html" title="Command Line">Command Line</a>
            </li>
              </ul>
        </li>
                                                                                                                                                                                                                                                                                                        <li class="expanded">
                          <a href="checks.html" title="Checks">Checks</a>
                    <ul>
                      <li class="none">
                          <a href="config_annotation.html" title="Annotations">Annotations</a>
            </li>
                      <li class="none">
                          <a href="config_blocks.html" title="Block Checks">Block Checks</a>
            </li>
                      <li class="none">
                          <a href="config_design.html" title="Class Design">Class Design</a>
            </li>
                      <li class="none">
                          <a href="config_coding.html" title="Coding">Coding</a>
            </li>
                      <li class="none">
                          <a href="config_header.html" title="Headers">Headers</a>
            </li>
                      <li class="none">
                          <a href="config_imports.html" title="Imports">Imports</a>
            </li>
                      <li class="none">
                          <a href="config_javadoc.html" title="Javadoc Comments">Javadoc Comments</a>
            </li>
                      <li class="none">
                          <a href="config_metrics.html" title="Metrics">Metrics</a>
            </li>
                      <li class="none">
                          <a href="config_misc.html" title="Miscellaneous">Miscellaneous</a>
            </li>
                      <li class="none">
                          <a href="config_modifier.html" title="Modifiers">Modifiers</a>
            </li>
                      <li class="none">
                          <a href="config_naming.html" title="Naming Conventions">Naming Conventions</a>
            </li>
                      <li class="none">
                          <a href="config_regexp.html" title="Regexp">Regexp</a>
            </li>
                      <li class="none">
                          <a href="config_sizes.html" title="Size Violations">Size Violations</a>
            </li>
                      <li class="none">
                          <a href="config_whitespace.html" title="Whitespace">Whitespace</a>
            </li>
              </ul>
        </li>
                                                                                <li class="expanded">
                          <a href="style_configs.html" title="Style Configurations">Style Configurations</a>
                    <ul>
                      <li class="none">
                          <a href="google_style.html" title="Google's Style">Google's Style</a>
            </li>
                      <li class="none">
                          <a href="sun_style.html" title="Sun's Style">Sun's Style</a>
            </li>
              </ul>
        </li>
          </ul>
                       <h5>Developers</h5>
                  <ul>
                                                                                                                              <li class="expanded">
                          <a href="extending.html" title="Extending Checkstyle">Extending Checkstyle</a>
                    <ul>
                      <li class="none">
                          <a href="writingchecks.html" title="Writing Checks">Writing Checks</a>
            </li>
                      <li class="none">
            <strong>Writing Javadoc Checks</strong>
          </li>
                      <li class="none">
                          <a href="writingfilters.html" title="Writing Filters">Writing Filters</a>
            </li>
                      <li class="none">
                          <a href="writinglisteners.html" title="Writing Listeners">Writing Listeners</a>
            </li>
              </ul>
        </li>
                  <li class="none">
                          <a href="contributing.html" title="Contributing">Contributing</a>
            </li>
                                                                                                  <li class="expanded">
                          <a href="beginning_development.html" title="Beginning Development">Beginning Development</a>
                    <ul>
                      <li class="none">
                          <a href="eclipse.html" title="Eclipse IDE">Eclipse IDE</a>
            </li>
                      <li class="none">
                          <a href="netbeans.html" title="NetBeans IDE">NetBeans IDE</a>
            </li>
                      <li class="none">
                          <a href="idea.html" title="IntelliJ IDE">IntelliJ IDE</a>
            </li>
              </ul>
        </li>
                  <li class="none">
                          <a href="apidocs/index.html" title="Javadoc">Javadoc</a>
            </li>
          </ul>
                       <h5>Project Documentation</h5>
                  <ul>
                                                                                                                                                                                                                                                                                            <li class="collapsed">
                          <a href="project-info.html" title="Project Information">Project Information</a>
                  </li>
                                                                                                                                                                                                                                                                          <li class="collapsed">
                          <a href="project-reports.html" title="Project Reports">Project Reports</a>
                  </li>
          </ul>
                                                                                                                                     <a href="https://github.com/checkstyle/checkstyle" title="GitHub" class="poweredBy">
        <img class="poweredBy"  alt="GitHub" src="images/github_logo_social_coding_outlined.png"     />
      </a>
                                                                                                                      <a href="https://sourceforge.net/projects/checkstyle/" title="SourceForge" class="poweredBy">
        <img class="poweredBy"  alt="SourceForge" src="images/sflogo.gif"     />
      </a>
                                                                                                                      <a href="https://twitter.com/checkstyle_java/" title="Twitter" class="poweredBy">
        <img class="poweredBy"  alt="Twitter" src="images/twitter_button.png"     />
      </a>
                                                                                                                      <a href="http://stackoverflow.com/questions/tagged/checkstyle" title="Stackoverflow" class="poweredBy">
        <img class="poweredBy"  alt="Stackoverflow" src="images/stackoverflow.jpeg"     />
      </a>
                                                                                                                      <a href="https://groups.google.com/forum/#!forum/checkstyle" title="GoogleGroups" class="poweredBy">
        <img class="poweredBy"  alt="GoogleGroups" src="images/groups.png"     />
      </a>
                                                                                                                      <a href="https://sourceforge.net/p/checkstyle/news/feed" title="Rss" class="poweredBy">
        <img class="poweredBy"  alt="Rss" src="images/rss-long.png"     />
      </a>
                                                                                                                      <a href="https://plus.google.com/108692338295483568100/posts" title="Google+" class="poweredBy">
        <img class="poweredBy"  alt="Google+" src="images/Google-Plus-Logo-120x38.png"     />
      </a>
                     
            </div>
    </div>
    <div id="bodyColumn">
      <div id="contentBox">
        

  
    
<div class="section">
<h2><a name="Content"></a>Content</h2>
      
        
        
      
<ul>
<li><a href="#Content">Content</a></li>
<li><a href="#What_is_Javadoc_comment">What is Javadoc comment</a></li>
<li><a href="#Limitations">Limitations</a></li>
<li><a href="#XHTML-style_rules">XHTML-style rules</a></li>
<li><a href="#How_to_create_Javadoc_Check">How to create Javadoc Check</a></li>
<li><a href="#Difference_between_Java_Grammar_and_Javadoc_comments_Grammar">Difference between Java Grammar and Javadoc comments Grammar</a></li>
<li><a href="#Tool_to_print_Javadoc_tree_structure">Tool to print Javadoc tree structure</a></li>
<li><a href="#Access_Java_AST_from_Javadoc_Check">Access Java AST from Javadoc Check</a></li>
<li><a href="#HTML_Code_In_Javadoc_Comments">HTML Code In Javadoc Comments</a></li>
<li><a href="#Checkstyle_SDK_GUI">Checkstyle SDK GUI</a></li>
<li><a href="#Customize_token_types_in_Javadoc_Checks">Customize token types in Javadoc Checks</a></li>
<li><a href="#Integrating_new_Javadoc_Check">Integrating new Javadoc Check</a></li>
<li><a href="#Declare_checks_external_resource_locations">Declare check's external resource locations</a></li>
<li><a href="#Examples_of_Javadoc_Checks">Examples of Javadoc Checks</a></li></ul>
    </div>

    
<div class="section">
<h2><a name="What_is_Javadoc_comment"></a>What is Javadoc comment</h2>
      
<p>
      Javadoc comment is multiline comment <tt>/*  */</tt> that starts with <b>*</b> character and placed above class definition, interface definition, enum definition, method definition or field definition.
      
<p>For example, here is java file:</p>
      
<div class="source">
<pre>
/**
 * My &lt;b&gt;class&lt;/b&gt;.
 * @see AbstractClass
 */
public class MyClass {

}
      </pre></div>
      Javadoc content is:
      
<div class="source">
<pre>
 * My &lt;b&gt;class&lt;/b&gt;.
 * @see AbstractClass
      </pre></div>
      
      Attention that java comment is start with <tt>/*</tt>, following with Identificator of comment type. Javadoc Identificator is <tt>*</tt>. All symbols after Javadoc Identificator till <tt>*/</tt> are part of javadoc comment.
      
<p>In internet you can find different types of documentation
      generation tools similar to javadoc. Such tools rely on specific Identificator: &quot;!&quot;, &quot;#&quot;, &quot;$&quot;.
      Comments looks like <tt>&quot;/*! some comment */&quot;</tt> , <tt>&quot;/*# some comment */&quot;</tt> , <tt>&quot;/*$ some comment */&quot;</tt>. Such multiline comments are not a javadoc.
      </p>
    </div>

    
<div class="section">
<h2><a name="Limitations"></a>Limitations</h2>
      
<p>
      Javadoc by specification could contain any HTML tags that let user generate content he needs.
      Checkstyle can not parse something that looks like an HTML, so limitation appear.
      </p>
      
<p>
      The comment should be written in <a href="#XHTML-style_rules">XHTML-style</a> to build nested AST Tree that most Checks expect. This means that every HTML tag should have matching end HTML tag or it is a <a class="externalLink" href="https://www.w3.org/TR/html-markup/syntax.html#void-element">void element</a>.
      </p>
      
<p>
      The only exceptions are HTML 4 tags whose end tag is optional, so, Checkstyle won't show error about missing end tag, however, it leads to broken XHTML structure and as result leads to
      not-nested content of the HTML tags in Abstract Syntax Tree of the Javadoc comment.
      <br />
      In other words if HTML tags are not closed Javadoc grammar cannot determine content of these tags,
      so structure of the parse tree will not be nested like it is while using <a href="#XHTML-style_rules">XHTML-style</a> code.
      It is done just to not fail on every Javadoc comment, because there are tons of using unclosed tags, etc.
      </p>
      
<p>
        For More details about HTML in AST read <a href="#HTML_Code_In_Javadoc_Comments">HTML Code In Javadoc Comments</a> section.
      </p>
    </div>

    
<div class="section">
<h2><a name="XHTML-style_rules"></a>XHTML-style rules</h2>
      
<ul>
        
<li>Document Structure elements (DOCTYPE, &lt;html&gt;, &lt;body&gt;, etc) are not mandatory.</li>
        
<li>Elements must always be closed, except HTML4 elements whose end tag is optional and HTML4 <a class="externalLink" href="https://www.w3.org/TR/html-markup/syntax.html#void-element">void elements</a>. See <a href="#HTML_Code_In_Javadoc_Comments">HTML Code In Javadoc Comments</a> section</li>
        
<li>XHTML elements can be either in lowercase or in uppercase</li>
        
<li>Attribute names can be either in lowercase or in uppercase</li>
        
<li>Attribute values can be either quoted or not be quoted</li>
      </ul>
    </div>

    
<div class="section">
<h2><a name="How_to_create_Javadoc_Check"></a>How to create Javadoc Check</h2>
      
<p>
        Principle of writing Javadoc Checks is similar to writing regular Checks. You just extend another class and use another token types.
      </p>
      
<p>
      To start implementing new Check create new class and extend <a href="apidocs/com/puppycrawl/tools/checkstyle/checks/javadoc/AbstractJavadocCheck.html">AbstractJavadocCheck</a>. It has two abstract methods you should implement:
      </p>
      
<ul>
        
<li><a href="apidocs/com/puppycrawl/tools/checkstyle/checks/javadoc/AbstractJavadocCheck.html#getDefaultJavadocTokens--">getDefaultJavadocTokens()</a> - return int array of javadoc token types your Check is going to process. The array should contain int constants from <a href="apidocs/com/puppycrawl/tools/checkstyle/api/JavadocTokenTypes.html">JavadocTokenTypes</a> class.
          There is also <a href="apidocs/com/puppycrawl/tools/checkstyle/api/TokenTypes.html">TokenTypes</a> class in Checkstyle. Make sure you use <a href="apidocs/com/puppycrawl/tools/checkstyle/api/JavadocTokenTypes.html">JavadocTokenTypes</a> class in your Check, because the <a href="apidocs/com/puppycrawl/tools/checkstyle/api/TokenTypes.html">TokenTypes</a> is used to describe standard Java <a href="apidocs/com/puppycrawl/tools/checkstyle/api/DetailAST.html">DetailAST</a> token type.</li>
        
<li><a href="apidocs/com/puppycrawl/tools/checkstyle/checks/javadoc/AbstractJavadocCheck.html#visitJavadocToken-com.puppycrawl.tools.checkstyle.api.DetailNode-">visitJavadocToken(DetailNode)</a> - it's the place you should put tree nodes proccessing. The argument is Javadoc tree node of type you described before in <a href="apidocs/com/puppycrawl/tools/checkstyle/checks/javadoc/AbstractJavadocCheck.html#getDefaultJavadocTokens--">getDefaultJavadocTokens()</a> method.</li>
      </ul>
    </div>

    
<div class="section">
<h2><a name="Difference_between_Java_Grammar_and_Javadoc_comments_Grammar"></a>Difference between Java Grammar and Javadoc comments Grammar</h2>
      
<p>
        Java grammar parses java file base on Java language specifications. So, there are singleline comments and multiline/block comments in it. Java compiler doesn't know about Javadoc because it is just a multiline comment.
        To parse multiline comment as a Javadoc comment, checkstyle has special Parser
        that is based on ANTLR Javadoc grammar. So, it's supposed to proccess block comments
        that start with Javadoc Identificator and parse them to Abstract Syntax Tree (AST).
      </p>
      
<p>
        The difference is that Java grammar uses ANTLR v2, while Javadoc grammar uses ANTLR v4. Because of that, these two grammars and their trees are not compatible.
        Java AST consists of <a href="apidocs/com/puppycrawl/tools/checkstyle/api/DetailAST.html">DetailAST</a> objects, while Javadoc AST consists of <a href="apidocs/com/puppycrawl/tools/checkstyle/api/DetailNode.html">DetailNode</a> objects.
      </p>
      
<p>
        Main Java grammar skips any whitespaces and newlines, so in Java Abstract Syntax Tree there are no whitespace/newline nodes.
        In Javadoc comment every whitespace matters, and Javadoc Checks need all those whitespaces and newline nodes to verify format and content of the Javadoc comment.
        Because of that Javadoc grammar includes all whitespaces, newlines to the parse tree
        (<a href="apidocs/com/puppycrawl/tools/checkstyle/api/JavadocTokenTypes.html#WS">WS</a>, <a href="apidocs/com/puppycrawl/tools/checkstyle/api/JavadocTokenTypes.html#NEWLINE">NEWLINE</a>).
        As you may notice there is also <a href="apidocs/com/puppycrawl/tools/checkstyle/api/JavadocTokenTypes.html#CHAR">CHAR</a> javadoc token that presents single character.
        It is quite useless and is used for building only <a href="apidocs/com/puppycrawl/tools/checkstyle/api/JavadocTokenTypes.html#TEXT">TEXT</a> node which consists of
        <a href="apidocs/com/puppycrawl/tools/checkstyle/api/JavadocTokenTypes.html#CHAR">CHAR</a> and
        <a href="apidocs/com/puppycrawl/tools/checkstyle/api/JavadocTokenTypes.html#WS">WS</a> nodes, but it is implementation nuance.
        (In future we will try to resolve this. See <a class="externalLink" href="https://github.com/checkstyle/checkstyle/issues/3170">Github Issue #3170</a>).
      </p>
    </div>

    
<div class="section">
<h2><a name="Tool_to_print_Javadoc_tree_structure"></a>Tool to print Javadoc tree structure</h2>
      
<p>
      Checkstyle can print Abstract Syntax Tree for Java and Javadoc trees. You need to run checkstyle jar file with <b>-J</b> argument, providing java file.
      </p>
      
<p>For example, here is MyClass.java file:</p>
      
<div class="source">
<pre>
/**
 * My &lt;b&gt;class&lt;/b&gt;.
 * @see AbstractClass
 */
public class MyClass {

}
      </pre></div>
      
<p>Command:</p>
      
<div class="source">
<pre>java -jar checkstyle-X.XX-all.jar -J MyClass.java</pre></div>
      
<p>Output:</p>
      
<div class="source">
<pre>
CLASS_DEF -&gt; CLASS_DEF [5:0]
|--MODIFIERS -&gt; MODIFIERS [5:0]
|   |--JAVADOC -&gt; \r\n * My &lt;b&gt;class&lt;/b&gt;.\r\n * @see AbstractClass\r\n &lt;EOF&gt; [1:0]
|   |   |--NEWLINE -&gt; \r\n [1:0]
|   |   |--LEADING_ASTERISK -&gt;  * [2:0]
|   |   |--TEXT -&gt;  My  [2:2]
|   |   |   |--WS -&gt;   [2:2]
|   |   |   |--CHAR -&gt; M [2:3]
|   |   |   |--CHAR -&gt; y [2:4]
|   |   |   `--WS -&gt;   [2:5]
|   |   |--HTML_ELEMENT -&gt; &lt;b&gt;class&lt;/b&gt; [2:6]
|   |   |   `--HTML_TAG -&gt; &lt;b&gt;class&lt;/b&gt; [2:6]
|   |   |       |--HTML_ELEMENT_OPEN -&gt; &lt;b&gt; [2:6]
|   |   |       |   |--OPEN -&gt; &lt; [2:6]
|   |   |       |   |--HTML_TAG_NAME -&gt; b [2:7]
|   |   |       |   `--CLOSE -&gt; &gt; [2:8]
|   |   |       |--TEXT -&gt; class [2:9]
|   |   |       |   |--CHAR -&gt; c [2:9]
|   |   |       |   |--CHAR -&gt; l [2:10]
|   |   |       |   |--CHAR -&gt; a [2:11]
|   |   |       |   |--CHAR -&gt; s [2:12]
|   |   |       |   `--CHAR -&gt; s [2:13]
|   |   |       `--HTML_ELEMENT_CLOSE -&gt; &lt;/b&gt; [2:14]
|   |   |           |--OPEN -&gt; &lt; [2:14]
|   |   |           |--SLASH -&gt; / [2:15]
|   |   |           |--HTML_TAG_NAME -&gt; b [2:16]
|   |   |           `--CLOSE -&gt; &gt; [2:17]
|   |   |--TEXT -&gt; . [2:18]
|   |   |   `--CHAR -&gt; . [2:18]
|   |   |--NEWLINE -&gt; \r\n [2:19]
|   |   |--LEADING_ASTERISK -&gt;  * [3:0]
|   |   |--WS -&gt;   [3:2]
|   |   |--JAVADOC_TAG -&gt; @see AbstractClass\r\n  [3:3]
|   |   |   |--SEE_LITERAL -&gt; @see [3:3]
|   |   |   |--WS -&gt;   [3:7]
|   |   |   |--REFERENCE -&gt; AbstractClass [3:8]
|   |   |   |   `--CLASS -&gt; AbstractClass [3:8]
|   |   |   |--NEWLINE -&gt; \r\n [3:21]
|   |   |   `--WS -&gt;   [4:0]
|   |   `--EOF -&gt; &lt;EOF&gt; [4:1]
|   `--LITERAL_PUBLIC -&gt; public [5:0]
|--LITERAL_CLASS -&gt; class [5:7]
|--IDENT -&gt; MyClass [5:13]
`--OBJBLOCK -&gt; OBJBLOCK [5:21]
    |--LCURLY -&gt; { [5:21]
    `--RCURLY -&gt; } [7:0]
      </pre></div>
      
<p>
      As you see very small java file transforms to a huge Abstract Syntax Tree, because that is the most detailed tree including all components of the java file: classes, methods, comments, etc.
      </p>
      
<p>In most cases while developing Javadoc Check you need only parse tree of the exact Javadoc comment.
      To do that just copy Javadoc comment to separate file and remove <b>/**</b> at the begining and <b>*/</b> at the end. After that, run checkstyle with <b>-j</b> argument.
      </p>
      
<p>MyJavadocComment.javadoc file:</p>
      
<div class="source">
<pre>
 * My &lt;b&gt;class&lt;/b&gt;.
 * @see AbstractClass
      </pre></div>
      
<p>Command:</p>
      
<div class="source">
<pre>java -jar checkstyle-X.XX-all.jar -j MyJavadocComment.javadoc</pre></div>
      
<p>Output:</p>
      
<div class="source">
<pre>
JAVADOC -&gt;  * My &lt;b&gt;class&lt;/b&gt;.\r\n * @see AbstractClass&lt;EOF&gt; [0:0]
|--LEADING_ASTERISK -&gt;  * [0:0]
|--TEXT -&gt;  My  [0:2]
|   |--WS -&gt;   [0:2]
|   |--CHAR -&gt; M [0:3]
|   |--CHAR -&gt; y [0:4]
|   `--WS -&gt;   [0:5]
|--HTML_ELEMENT -&gt; &lt;b&gt;class&lt;/b&gt; [0:6]
|   `--HTML_TAG -&gt; &lt;b&gt;class&lt;/b&gt; [0:6]
|       |--HTML_ELEMENT_OPEN -&gt; &lt;b&gt; [0:6]
|       |   |--OPEN -&gt; &lt; [0:6]
|       |   |--HTML_TAG_NAME -&gt; b [0:7]
|       |   `--CLOSE -&gt; &gt; [0:8]
|       |--TEXT -&gt; class [0:9]
|       |   |--CHAR -&gt; c [0:9]
|       |   |--CHAR -&gt; l [0:10]
|       |   |--CHAR -&gt; a [0:11]
|       |   |--CHAR -&gt; s [0:12]
|       |   `--CHAR -&gt; s [0:13]
|       `--HTML_ELEMENT_CLOSE -&gt; &lt;/b&gt; [0:14]
|           |--OPEN -&gt; &lt; [0:14]
|           |--SLASH -&gt; / [0:15]
|           |--HTML_TAG_NAME -&gt; b [0:16]
|           `--CLOSE -&gt; &gt; [0:17]
|--TEXT -&gt; . [0:18]
|   `--CHAR -&gt; . [0:18]
|--NEWLINE -&gt; \r\n [0:19]
|--LEADING_ASTERISK -&gt;  * [1:0]
|--WS -&gt;   [1:2]
|--JAVADOC_TAG -&gt; @see AbstractClass [1:3]
|   |--SEE_LITERAL -&gt; @see [1:3]
|   |--WS -&gt;   [1:7]
|   `--REFERENCE -&gt; AbstractClass [1:8]
|       `--CLASS -&gt; AbstractClass [1:8]
`--EOF -&gt; &lt;EOF&gt; [1:21]
      </pre></div>
    </div>

    
<div class="section">
<h2><a name="Access_Java_AST_from_Javadoc_Check"></a>Access Java AST from Javadoc Check</h2>
      As you already know Javadoc parse tree is a result of parsing block comment. There is a method to get the original block comment from Javadoc Check.
      You may need this block comment to check its position or something else in java <a href="apidocs/com/puppycrawl/tools/checkstyle/api/DetailAST.html">DetailAST</a> tree.
      
<p>
      For example, to write a JavadocCheck that verifies @param tags in Javadoc comment of a method definition, you also need all method's parameter names. To get method definition AST you should access java <a href="apidocs/com/puppycrawl/tools/checkstyle/api/DetailAST.html">DetailAST</a> tree from javadoc Check. For this purpose use <a href="apidocs/com/puppycrawl/tools/checkstyle/checks/javadoc/AbstractJavadocCheck.html#getBlockCommentAst--">getBlockCommentAst()</a> method that returns <a href="apidocs/com/puppycrawl/tools/checkstyle/api/DetailAST.html">DetailAST</a> node.
      </p>
      
<p>
        Example:
      </p>
      
<div class="source">
<pre>
class MyCheck extends AbstractJavadocCheck {

    @Override
    public int[] getDefaultJavadocTokens() {
        return new int[]{JavadocTokenTypes.PARAMETER_NAME};
    }

    @Override
    public void visitJavadocToken(DetailNode paramNameNode) {
        String javadocParamName = paramNameNode.getText();
        DetailAST blockCommentAst = getBlockCommentAst();

        if (BlockCommentPosition.isOnMethod(blockCommentAst)) {

            DetailAST methodDef = blockCommentAst.getParent();
            DetailAST methodParam = findMethodParameter(methodDef);
            String methodParamName = methodParam.getText();

            if (!javadocParamName.equals(methodParamName)) {
                log(methodParam, &quot;params.dont.match&quot;);
            }

        }
    }
}
      </pre></div>
    </div>

    
<div class="section">
<h2><a name="HTML_Code_In_Javadoc_Comments"></a>HTML Code In Javadoc Comments</h2>
      
<p>
        Checkstyle supports HTML4 tags in Javadoc comments: <a class="externalLink" href="https://www.w3.org/TR/html4/index/elements.html">all HTML4 elements</a>.
      </p>
      
<p>
        HTML 4 is picked just to have a list of elements whose end tag is optional and a list of <a class="externalLink" href="https://www.w3.org/TR/html-markup/syntax.html#void-element">void elements</a> (also known as <a class="externalLink" href="http://www.w3schools.com/html/html_elements.asp">empty html tags</a>, for example <a class="externalLink" href="https://www.w3.org/TR/html4/struct/text.html#edef-BR">BR tag</a>).
      </p>
      
<p>
        HTML elements whose end tag is optional: &lt;P&gt;, &lt;LI&gt;, &lt;TR&gt;, &lt;TD&gt;, &lt;TH&gt;, &lt;BODY&gt;, &lt;COLGROUP&gt;, &lt;DD&gt;,
        &lt;DT&gt;, &lt;HEAD&gt;, &lt;HTML&gt;, &lt;OPTION&gt;, &lt;TBODY&gt;, &lt;THEAD&gt;, &lt;TFOOT&gt;.
      </p>
      
<p>
        Void HTML elements: &lt;AREA&gt;, &lt;BASE&gt;, &lt;BASEFONT&gt;, &lt;BR&gt;, &lt;COL&gt;, &lt;FRAME&gt;,
        &lt;HR&gt;, &lt;IMG&gt;, &lt;INPUT&gt;, &lt;ISINDEX&gt;, &lt;LINK&gt;, &lt;META&gt;, &lt;PARAM&gt;.
      </p>

      
<p>
        To make Checkstyle support HTML5 tags whose end tag is optional and HTML5 void elements we should update Javadoc Parser 
        bacause each element that breaks <a href="#XHTML-style_rules">XHTML-style rules</a> have to be defined in Javadoc grammar. 
        In future we should update Javadoc grammar if those tag lists extend (new tags, new HTML standard, etc.).
      </p>

      
<p>
        If Checkstyle meets unknown tag (for example HTML5 tag)
        it doesn't fail and parses this tag as <a href="apidocs/com/puppycrawl/tools/checkstyle/api/JavadocTokenTypes.html#HTML_TAG">HTML_TAG</a> Javadoc token type.
        Just follow <a href="#XHTML-style_rules">XHTML-style rules</a> to make Checkstyle javadoc parser make nested AST, even though tags are unknown.

        </p>
<div class="source">
<pre>
&lt;audio&gt;&lt;source src=&quot;horse.ogg&quot; type=&quot;audio/ogg&quot;/&gt;&lt;/audio&gt;
        </pre></div>

        
<div class="source">
<pre>
JAVADOC -&gt; &lt;audio&gt;&lt;source src=&quot;horse.ogg&quot; type=&quot;audio/ogg&quot;/&gt;&lt;/audio&gt;&lt;EOF&gt; [0:0]
|--HTML_ELEMENT -&gt; &lt;audio&gt;&lt;source src=&quot;horse.ogg&quot; type=&quot;audio/ogg&quot;/&gt;&lt;/audio&gt; [0:0]
|   `--HTML_TAG -&gt; &lt;audio&gt;&lt;source src=&quot;horse.ogg&quot; type=&quot;audio/ogg&quot;/&gt;&lt;/audio&gt; [0:0]
|       |--HTML_ELEMENT_OPEN -&gt; &lt;audio&gt; [0:0]
|       |   |--OPEN -&gt; &lt; [0:0]
|       |   |--HTML_TAG_NAME -&gt; audio [0:1]
|       |   `--CLOSE -&gt; &gt; [0:6]
|       |--HTML_ELEMENT -&gt; &lt;source src=&quot;horse.ogg&quot; type=&quot;audio/ogg&quot;/&gt; [0:7]
|       |   `--SINGLETON_ELEMENT -&gt; &lt;source src=&quot;horse.ogg&quot; type=&quot;audio/ogg&quot;/&gt; [0:7]
|       |       `--SINGLETON_TAG -&gt; &lt;source src=&quot;horse.ogg&quot; type=&quot;audio/ogg&quot;/&gt; [0:7]
|       |           |--OPEN -&gt; &lt; [0:7]
|       |           |--HTML_TAG_NAME -&gt; source [0:8]
|       |           |--WS -&gt;   [0:14]
|       |           |--ATTRIBUTE -&gt; src=&quot;horse.ogg&quot; [0:15]
|       |           |   |--HTML_TAG_NAME -&gt; src [0:15]
|       |           |   |--EQUALS -&gt; = [0:18]
|       |           |   `--ATTR_VALUE -&gt; &quot;horse.ogg&quot; [0:19]
|       |           |--WS -&gt;   [0:31]
|       |           |--ATTRIBUTE -&gt; type=&quot;audio/ogg&quot; [0:32]
|       |           |   |--HTML_TAG_NAME -&gt; type [0:32]
|       |           |   |--EQUALS -&gt; = [0:36]
|       |           |   `--ATTR_VALUE -&gt; &quot;audio/ogg&quot; [0:37]
|       |           `--SLASH_CLOSE -&gt; /&gt; [0:49]
|       `--HTML_ELEMENT_CLOSE -&gt; &lt;/audio&gt; [0:51]
|           |--OPEN -&gt; &lt; [0:51]
|           |--SLASH -&gt; / [0:52]
|           |--HTML_TAG_NAME -&gt; audio [0:53]
|           `--CLOSE -&gt; &gt; [0:58]
`--EOF -&gt; &lt;EOF&gt; [0:59]
        </pre></div>
      

    
<p>
      Here is what you get if unknown tag doesn't have matching end tag (for example, HTML5 tag &lt;audio&gt;): <br />
      Input:
      </p>
<div class="source">
<pre>&lt;audio&gt;test</pre></div>
      Output:
      
<div class="source">
<pre>[ERROR:0] Javadoc comment at column 1 has parse error. Missed HTML close tag 'audio'. Sometimes it means that close tag missed for one of previous tags.</pre></div>
      As you see Javadoc parser prints error and doesn't build AST if unknown HTML tag doesn't have matching end tag.
    

    
<p>
      There are also HTML tags that are marked as &quot;Not supported in HTML5&quot; (<a class="externalLink" href="http://www.w3schools.com/tags/default.asp">HTML Element Reference</a>). 
      Checkstyle Javadoc parser can parse those tags too if they are written in <a href="#XHTML-style_rules">XHTML-style</a>.
      <br />
      Example.
      <br />
      Input:
      </p>
<div class="source">
<pre>
&lt;acronym title=&quot;as soon as possible&quot;&gt;ASAP&lt;/acronym&gt;
      </pre></div>
      <br />
      Output:
      
<div class="source">
<pre>
JAVADOC -&gt; &lt;acronym title=&quot;as soon as possible&quot;&gt;ASAP&lt;/acronym&gt;&lt;EOF&gt; [0:0]
|--HTML_ELEMENT -&gt; &lt;acronym title=&quot;as soon as possible&quot;&gt;ASAP&lt;/acronym&gt; [0:0]
|   `--HTML_TAG -&gt; &lt;acronym title=&quot;as soon as possible&quot;&gt;ASAP&lt;/acronym&gt; [0:0]
|       |--HTML_ELEMENT_OPEN -&gt; &lt;acronym title=&quot;as soon as possible&quot;&gt; [0:0]
|       |   |--OPEN -&gt; &lt; [0:0]
|       |   |--HTML_TAG_NAME -&gt; acronym [0:1]
|       |   |--WS -&gt;   [0:8]
|       |   |--ATTRIBUTE -&gt; title=&quot;as soon as possible&quot; [0:9]
|       |   |   |--HTML_TAG_NAME -&gt; title [0:9]
|       |   |   |--EQUALS -&gt; = [0:14]
|       |   |   `--ATTR_VALUE -&gt; &quot;as soon as possible&quot; [0:15]
|       |   `--CLOSE -&gt; &gt; [0:37]
|       |--TEXT -&gt; ASAP [0:38]
|       |   |--CHAR -&gt; A [0:38]
|       |   |--CHAR -&gt; S [0:39]
|       |   |--CHAR -&gt; A [0:40]
|       |   `--CHAR -&gt; P [0:41]
|       `--HTML_ELEMENT_CLOSE -&gt; &lt;/acronym&gt; [0:42]
|           |--OPEN -&gt; &lt; [0:42]
|           |--SLASH -&gt; / [0:43]
|           |--HTML_TAG_NAME -&gt; acronym [0:44]
|           `--CLOSE -&gt; &gt; [0:51]
`--EOF -&gt; &lt;EOF&gt; [0:52]
      </pre></div>
    

    
<p>More examples:</p>

    
<table border="0" class="bodyTable" style="table-layout: fixed;">
      
<tr class="a">
        
<td>
          1) Unclosed paragraph HTML tag. As you see in the tree, content of the paragraph tag is not nested to this tag.
          That is because HTML tags are not closed by pair tag &lt;/p&gt;, and Checkstyle requires <a href="#XHTML-style_rules">XHTML-style</a> code to predictably parse Javadoc comments.
        </td>
        
<td>
          2) Here is correct version with open and closed HTML tags.
        </td>
      </tr>

      
<tr class="b">
        
<td>
          
<div class="source">
<pre>
&lt;p&gt; First
&lt;p&gt; Second
          </pre></div>
        </td>
        
<td>
          
<div class="source">
<pre>
&lt;p&gt; First &lt;/p&gt;
&lt;p&gt; Second &lt;/p&gt;
          </pre></div>
        </td>
      </tr>

      
<tr class="a">
        
<td>
          
<div class="source">
<pre>
JAVADOC -&gt; &lt;p&gt; First\r\n&lt;p&gt; Second&lt;EOF&gt; [0:0]
|--HTML_ELEMENT -&gt; &lt;p&gt; [0:0]
|   `--P_TAG_OPEN -&gt; &lt;p&gt; [0:0]
|       |--OPEN -&gt; &lt; [0:0]
|       |--P_HTML_TAG_NAME -&gt; p [0:1]
|       `--CLOSE -&gt; &gt; [0:2]
|--TEXT -&gt;  First [0:3]
|   |--WS -&gt;   [0:3]
|   |--CHAR -&gt; F [0:4]
|   |--CHAR -&gt; i [0:5]
|   |--CHAR -&gt; r [0:6]
|   |--CHAR -&gt; s [0:7]
|   `--CHAR -&gt; t [0:8]
|--NEWLINE -&gt; \r\n [0:9]
|--HTML_ELEMENT -&gt; &lt;p&gt; [1:0]
|   `--P_TAG_OPEN -&gt; &lt;p&gt; [1:0]
|       |--OPEN -&gt; &lt; [1:0]
|       |--P_HTML_TAG_NAME -&gt; p [1:1]
|       `--CLOSE -&gt; &gt; [1:2]
|--TEXT -&gt;  Second [1:3]
|   |--WS -&gt;   [1:3]
|   |--CHAR -&gt; S [1:4]
|   |--CHAR -&gt; e [1:5]
|   |--CHAR -&gt; c [1:6]
|   |--CHAR -&gt; o [1:7]
|   |--CHAR -&gt; n [1:8]
|   `--CHAR -&gt; d [1:9]
`--EOF -&gt; &lt;EOF&gt; [1:10]
          </pre></div>
        </td>
        
<td>
          
<div class="source">
<pre>
JAVADOC -&gt; &lt;p&gt; First &lt;/p&gt;\r\n&lt;p&gt; Second &lt;/p&gt;&lt;EOF&gt; [0:0]
|--HTML_ELEMENT -&gt; &lt;p&gt; First &lt;/p&gt; [0:0]
|   `--PARAGRAPH -&gt; &lt;p&gt; First &lt;/p&gt; [0:0]
|       |--P_TAG_OPEN -&gt; &lt;p&gt; [0:0]
|       |   |--OPEN -&gt; &lt; [0:0]
|       |   |--P_HTML_TAG_NAME -&gt; p [0:1]
|       |   `--CLOSE -&gt; &gt; [0:2]
|       |--TEXT -&gt;  First  [0:3]
|       |   |--WS -&gt;   [0:3]
|       |   |--CHAR -&gt; F [0:4]
|       |   |--CHAR -&gt; i [0:5]
|       |   |--CHAR -&gt; r [0:6]
|       |   |--CHAR -&gt; s [0:7]
|       |   |--CHAR -&gt; t [0:8]
|       |   `--WS -&gt;   [0:9]
|       `--P_TAG_CLOSE -&gt; &lt;/p&gt; [0:10]
|           |--OPEN -&gt; &lt; [0:10]
|           |--SLASH -&gt; / [0:11]
|           |--P_HTML_TAG_NAME -&gt; p [0:12]
|           `--CLOSE -&gt; &gt; [0:13]
|--NEWLINE -&gt; \r\n [0:14]
|--HTML_ELEMENT -&gt; &lt;p&gt; Second &lt;/p&gt; [1:0]
|   `--PARAGRAPH -&gt; &lt;p&gt; Second &lt;/p&gt; [1:0]
|       |--P_TAG_OPEN -&gt; &lt;p&gt; [1:0]
|       |   |--OPEN -&gt; &lt; [1:0]
|       |   |--P_HTML_TAG_NAME -&gt; p [1:1]
|       |   `--CLOSE -&gt; &gt; [1:2]
|       |--TEXT -&gt;  Second  [1:3]
|       |   |--WS -&gt;   [1:3]
|       |   |--CHAR -&gt; S [1:4]
|       |   |--CHAR -&gt; e [1:5]
|       |   |--CHAR -&gt; c [1:6]
|       |   |--CHAR -&gt; o [1:7]
|       |   |--CHAR -&gt; n [1:8]
|       |   |--CHAR -&gt; d [1:9]
|       |   `--WS -&gt;   [1:10]
|       `--P_TAG_CLOSE -&gt; &lt;/p&gt; [1:11]
|           |--OPEN -&gt; &lt; [1:11]
|           |--SLASH -&gt; / [1:12]
|           |--P_HTML_TAG_NAME -&gt; p [1:13]
|           `--CLOSE -&gt; &gt; [1:14]
`--EOF -&gt; &lt;EOF&gt; [1:15]
          </pre></div>
        </td>
      </tr>
    </table>
    </div>

    
<div class="section">
<h2><a name="Checkstyle_SDK_GUI"></a>Checkstyle SDK GUI</h2>
      Not implemented yet. See <a class="externalLink" href="https://github.com/checkstyle/checkstyle/issues/408">Github Issue #408</a>.
    </div>

    
<div class="section">
<h2><a name="Customize_token_types_in_Javadoc_Checks"></a>Customize token types in Javadoc Checks</h2>
      Not implemented yet. See <a class="externalLink" href="https://github.com/checkstyle/checkstyle/issues/2427">Github Issue #2427</a>.
    </div>

    
<div class="section">
<h2><a name="Integrating_new_Javadoc_Check"></a>Integrating new Javadoc Check</h2>
      Javadoc Checks as well as regular Checks extend <a href="apidocs/com/puppycrawl/tools/checkstyle/checks/javadoc/AbstractJavadocCheck.html">AbstractCheck</a> class. So integrating new Javadoc Check is similar to <a href="writingchecks.html#Integrate_your_Check">integrating other Checks</a>.
    </div>

    
<div class="section">
<h2><a name="Declare_checks_external_resource_locations"></a>Declare check's external resource locations</h2>
      
<p>
        See <a href="writingchecks.html#Declare_checks_external_resource_locations">Declare check's external resource locations</a>.
      </p>
    </div>

    
<div class="section">
<h2><a name="Examples_of_Javadoc_Checks"></a>Examples of Javadoc Checks</h2>
      The best source knowledge about how to write Javadoc Checks
      could be taken from
      <a class="externalLink" href="https://github.com/search?q=path%3Asrc%2Fmain%2Fjava+repo%3Acheckstyle%2Fcheckstyle+%22extends+AbstractJavadocCheck%22">
        existing Checks</a>.
    </div>

  

      </div>
    </div>
    <div class="clear">
      <hr/>
    </div>
    <div id="footer">
      <div class="xright">
              Copyright &#169;                   2001&#x2013;2016.
          All rights reserved.    
                  </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
  </body>
</html>
